# ä¸­åŒ»å°å„¿æŽ¨æ‹¿ç®¡ç†ç³»ç»Ÿ - å¸¸ç”¨å‘½ä»¤è¯´æ˜Ž

## ðŸ“‹ ç›®å½•

- [1. é¡¹ç›®ç»“æž„](#1-é¡¹ç›®ç»“æž„)
- [2. å¼€å‘çŽ¯å¢ƒå‘½ä»¤](#2-å¼€å‘çŽ¯å¢ƒå‘½ä»¤)
- [3. ç”Ÿäº§çŽ¯å¢ƒå‘½ä»¤](#3-ç”Ÿäº§çŽ¯å¢ƒå‘½ä»¤)
- [4. æ•°æ®åº“ç®¡ç†å‘½ä»¤](#4-æ•°æ®åº“ç®¡ç†å‘½ä»¤)
- [5. æœåŠ¡å™¨ç®¡ç†å‘½ä»¤](#5-æœåŠ¡å™¨ç®¡ç†å‘½ä»¤)
- [6. æ—¥å¿—æŸ¥çœ‹å‘½ä»¤](#6-æ—¥å¿—æŸ¥çœ‹å‘½ä»¤)
- [7. å¤‡ä»½ä¸Žæ¢å¤å‘½ä»¤](#7-å¤‡ä»½ä¸Žæ¢å¤å‘½ä»¤)
- [8. æ•…éšœæŽ’æŸ¥å‘½ä»¤](#8-æ•…éšœæŽ’æŸ¥å‘½ä»¤)
- [9. å®‰å…¨ä¸Žç›‘æŽ§å‘½ä»¤](#9-å®‰å…¨ä¸Žç›‘æŽ§å‘½ä»¤)
- [10. Gitç‰ˆæœ¬æŽ§åˆ¶å‘½ä»¤](#10-gitç‰ˆæœ¬æŽ§åˆ¶å‘½ä»¤)

---

## 1. é¡¹ç›®ç»“æž„

```
p1/
â”œâ”€â”€ @back/                    # åŽç«¯ç›®å½•
â”‚   â”œâ”€â”€ config/              # é…ç½®æ–‡ä»¶
â”‚   â”œâ”€â”€ controllers/         # æŽ§åˆ¶å™¨
â”‚   â”œâ”€â”€ models/             # æ•°æ®æ¨¡åž‹
â”‚   â”œâ”€â”€ routes/             # è·¯ç”±
â”‚   â”œâ”€â”€ middlewares/        # ä¸­é—´ä»¶
â”‚   â”œâ”€â”€ server.js           # ä¸»æœåŠ¡å™¨æ–‡ä»¶
â”‚   â”œâ”€â”€ package.json        # åŽç«¯ä¾èµ–é…ç½®
â”‚   â””â”€â”€ .env               # çŽ¯å¢ƒå˜é‡
â”œâ”€â”€ front/                   # å‰ç«¯ç›®å½•
â”‚   â”œâ”€â”€ css/               # æ ·å¼æ–‡ä»¶
â”‚   â”œâ”€â”€ js/                # JavaScriptæ–‡ä»¶
â”‚   â”œâ”€â”€ images/            # å›¾ç‰‡èµ„æº
â”‚   â”œâ”€â”€ *.html             # é¡µé¢æ–‡ä»¶
â”‚   â””â”€â”€ package.json       # å‰ç«¯ä¾èµ–é…ç½®
â”œâ”€â”€ deployment.md           # éƒ¨ç½²æ–‡æ¡£
â”œâ”€â”€ nginx.conf             # Nginxé…ç½®
â””â”€â”€ å¸¸ç”¨å‘½ä»¤è¯´æ˜Ž.md        # æœ¬æ–‡æ¡£
```

---

## 2. å¼€å‘çŽ¯å¢ƒå‘½ä»¤

### ðŸ”§ çŽ¯å¢ƒå‡†å¤‡

```bash
# æ£€æŸ¥Node.jsç‰ˆæœ¬
node -v
npm -v

# æ£€æŸ¥MongoDBçŠ¶æ€
systemctl status mongod
# æˆ– macOSä½¿ç”¨ Homebrew
brew services list | grep mongodb

# å®‰è£…åŽç«¯ä¾èµ–
cd @back
npm install

# å®‰è£…å‰ç«¯ä¾èµ–ï¼ˆå¦‚æžœæœ‰ï¼‰
cd front
npm install
```

### ðŸš€ å¯åŠ¨å¼€å‘æœåŠ¡

```bash
# å¯åŠ¨åŽç«¯æœåŠ¡ï¼ˆå¼€å‘æ¨¡å¼ï¼‰
cd @back
npm run dev
# æˆ–ç›´æŽ¥è¿è¡Œ
nodemon server.js

# å¯åŠ¨åŽç«¯æœåŠ¡ï¼ˆç”Ÿäº§æ¨¡å¼ï¼‰
npm start
# æˆ–ç›´æŽ¥è¿è¡Œ
node server.js

# å¯åŠ¨å‰ç«¯å¼€å‘æœåŠ¡å™¨ï¼ˆå¦‚æžœé…ç½®äº†ï¼‰
cd front
./start.sh
# æˆ–
node start-server.js
```

### ðŸ” å¼€å‘è°ƒè¯•

```bash
# æŸ¥çœ‹å®žæ—¶æ—¥å¿—
cd @back
npm run dev | tee logs/dev.log

# æ£€æŸ¥ç«¯å£å ç”¨
lsof -i :5201  # åŽç«¯ç«¯å£
lsof -i :8080  # å‰ç«¯ç«¯å£

# é‡å¯æœåŠ¡
# Ctrl+C åœæ­¢æœåŠ¡ï¼Œç„¶åŽé‡æ–°å¯åŠ¨
```

---

## 3. ç”Ÿäº§çŽ¯å¢ƒå‘½ä»¤

### ðŸŒ PM2 è¿›ç¨‹ç®¡ç†

```bash
# å¯åŠ¨åº”ç”¨
pm2 start @back/server.js --name "huiliaoyun-backend"

# æŸ¥çœ‹æ‰€æœ‰åº”ç”¨çŠ¶æ€
pm2 status
pm2 list

# é‡å¯åº”ç”¨
pm2 restart huiliaoyun-backend
pm2 restart all

# åœæ­¢åº”ç”¨
pm2 stop huiliaoyun-backend
pm2 stop all

# åˆ é™¤åº”ç”¨ï¼ˆä»ŽPM2ç®¡ç†ä¸­ç§»é™¤ï¼‰
pm2 delete huiliaoyun-backend

# æŸ¥çœ‹åº”ç”¨è¯¦ç»†ä¿¡æ¯
pm2 show huiliaoyun-backend

# ç›‘æŽ§åº”ç”¨
pm2 monit

# æŸ¥çœ‹æ—¥å¿—
pm2 logs huiliaoyun-backend
pm2 logs --lines 100

# æ¸…ç©ºæ—¥å¿—
pm2 flush

# ä¿å­˜PM2é…ç½®
pm2 save

# è®¾ç½®å¼€æœºè‡ªå¯
pm2 startup
pm2 save
```

### ðŸ”„ åº”ç”¨æ›´æ–°éƒ¨ç½²

```bash
# æ‹‰å–æœ€æ–°ä»£ç 
git pull origin main

# å®‰è£…æ–°ä¾èµ–ï¼ˆå¦‚æžœæœ‰ï¼‰
cd @back
npm install --production

# é‡å¯åº”ç”¨
pm2 restart huiliaoyun-backend

# æ£€æŸ¥æ›´æ–°çŠ¶æ€
pm2 status
pm2 logs huiliaoyun-backend --lines 50
```

---

## 4. æ•°æ®åº“ç®¡ç†å‘½ä»¤

### ðŸ—„ï¸ MongoDB åŸºç¡€æ“ä½œ

```bash
# å¯åŠ¨MongoDBæœåŠ¡
sudo systemctl start mongod
# macOS
brew services start mongodb-community

# åœæ­¢MongoDBæœåŠ¡
sudo systemctl stop mongod
# macOS
brew services stop mongodb-community

# é‡å¯MongoDBæœåŠ¡
sudo systemctl restart mongod

# æŸ¥çœ‹MongoDBçŠ¶æ€
sudo systemctl status mongod

# è¿žæŽ¥åˆ°MongoDB
mongosh
# æˆ–ä½¿ç”¨è®¤è¯è¿žæŽ¥
mongosh -u huiliaoyun -p k87y6gjyf656 huiliaoyun
```

### ðŸ“Š æ•°æ®åº“æ“ä½œ

```bash
# è¿žæŽ¥åˆ°æ•°æ®åº“åŽçš„æ“ä½œ
mongosh huiliaoyun

# æŸ¥çœ‹æ‰€æœ‰æ•°æ®åº“
show dbs

# ä½¿ç”¨æŒ‡å®šæ•°æ®åº“
use huiliaoyun

# æŸ¥çœ‹æ‰€æœ‰é›†åˆ
show collections

# æŸ¥çœ‹é›†åˆæ–‡æ¡£æ•°é‡
db.customers.countDocuments()
db.services.countDocuments()
db.memberships.countDocuments()

# æŸ¥çœ‹æœ€è¿‘çš„è®°å½•
db.customers.find().sort({createdAt: -1}).limit(5)

# åˆ›å»ºç´¢å¼•ï¼ˆä¼˜åŒ–æŸ¥è¯¢æ€§èƒ½ï¼‰
db.customers.createIndex({phone: 1})
db.services.createIndex({customerId: 1, date: -1})

# æŸ¥çœ‹ç´¢å¼•
db.customers.getIndexes()
```

### ðŸ”’ ç”¨æˆ·æƒé™ç®¡ç†

```bash
# åˆ›å»ºç®¡ç†å‘˜ç”¨æˆ·
mongosh admin --eval '
  db.createUser({
    user: "admin",
    pwd: "jzh627200", 
    roles: [ { role: "userAdminAnyDatabase", db: "admin" } ]
  })
'

# åˆ›å»ºåº”ç”¨æ•°æ®åº“ç”¨æˆ·
mongosh admin -u admin -p jzh627200 --eval '
  db.createUser({
    user: "huiliaoyun",
    pwd: "k87y6gjyf656",
    roles: [ { role: "readWrite", db: "huiliaoyun" } ]
  })
'

# ä¿®æ”¹ç”¨æˆ·å¯†ç 
mongosh -u admin -p jzh627200 admin --eval '
  db.changeUserPassword("huiliaoyun", "æ–°å¯†ç ")
'
```

---

## 5. æœåŠ¡å™¨ç®¡ç†å‘½ä»¤

### ðŸŒ Nginx æœåŠ¡ç®¡ç†

```bash
# å¯åŠ¨Nginx
sudo systemctl start nginx

# é‡å¯Nginx
sudo systemctl restart nginx

# é‡æ–°åŠ è½½é…ç½®ï¼ˆä¸ä¸­æ–­æœåŠ¡ï¼‰
sudo systemctl reload nginx
# æˆ–
sudo nginx -s reload

# åœæ­¢Nginx
sudo systemctl stop nginx

# æŸ¥çœ‹NginxçŠ¶æ€
sudo systemctl status nginx

# æ£€æŸ¥é…ç½®æ–‡ä»¶è¯­æ³•
sudo nginx -t

# æŸ¥çœ‹nginxè¿›ç¨‹
ps aux | grep nginx
```

### âš™ï¸ Nginx é…ç½®ç®¡ç†

```bash
# ç¼–è¾‘ä¸»é…ç½®æ–‡ä»¶
sudo vim /etc/nginx/nginx.conf

# ç¼–è¾‘ç«™ç‚¹é…ç½®
sudo vim /etc/nginx/sites-available/huiliaoyun.conf

# å¯ç”¨ç«™ç‚¹é…ç½®
sudo ln -s /etc/nginx/sites-available/huiliaoyun.conf /etc/nginx/sites-enabled/

# ç¦ç”¨ç«™ç‚¹é…ç½®
sudo rm /etc/nginx/sites-enabled/huiliaoyun.conf

# æŸ¥çœ‹é…ç½®æ–‡ä»¶
cat /etc/nginx/sites-available/huiliaoyun.conf

# æµ‹è¯•é…ç½®å¹¶é‡æ–°åŠ è½½
sudo nginx -t && sudo nginx -s reload
```

### ðŸ” SSLè¯ä¹¦ç®¡ç†ï¼ˆLet's Encryptï¼‰

```bash
# èŽ·å–SSLè¯ä¹¦
sudo certbot --nginx -d huiliaoyun.site

# ç»­æœŸè¯ä¹¦
sudo certbot renew

# æµ‹è¯•ç»­æœŸï¼ˆä¸ä¼šçœŸæ­£ç»­æœŸï¼‰
sudo certbot renew --dry-run

# æŸ¥çœ‹è¯ä¹¦çŠ¶æ€
sudo certbot certificates

# æ’¤é”€è¯ä¹¦ï¼ˆè°¨æ…Žä½¿ç”¨ï¼‰
sudo certbot revoke --cert-path /etc/letsencrypt/live/huiliaoyun.site/cert.pem
```

---

## 6. æ—¥å¿—æŸ¥çœ‹å‘½ä»¤

### ðŸ“‹ åº”ç”¨æ—¥å¿—

```bash
# PM2åº”ç”¨æ—¥å¿—
pm2 logs huiliaoyun-backend
pm2 logs --lines 100
pm2 logs --timestamp

# å®žæ—¶æŸ¥çœ‹æ—¥å¿—
pm2 logs huiliaoyun-backend --follow

# æŸ¥çœ‹ç‰¹å®šæ—¶é—´çš„æ—¥å¿—
pm2 logs huiliaoyun-backend --timestamp | grep "2024-03-19"
```

### ðŸŒ Nginxæ—¥å¿—

```bash
# æŸ¥çœ‹è®¿é—®æ—¥å¿—
sudo tail -f /var/log/nginx/huiliaoyun-access.log

# æŸ¥çœ‹é”™è¯¯æ—¥å¿—
sudo tail -f /var/log/nginx/huiliaoyun-error.log

# æŸ¥çœ‹æœ€è¿‘çš„é”™è¯¯
sudo tail -n 100 /var/log/nginx/error.log

# åˆ†æžè®¿é—®æ—¥å¿—
sudo grep "POST /api" /var/log/nginx/huiliaoyun-access.log
sudo grep "5xx" /var/log/nginx/huiliaoyun-access.log
```

### ðŸ—„ï¸ ç³»ç»Ÿæ—¥å¿—

```bash
# æŸ¥çœ‹ç³»ç»Ÿæ—¥å¿—
sudo journalctl -u nginx
sudo journalctl -u mongod

# æŸ¥çœ‹æœ€è¿‘çš„ç³»ç»Ÿæ—¥å¿—
sudo journalctl -f

# æŸ¥çœ‹ç‰¹å®šæœåŠ¡çš„æ—¥å¿—
sudo journalctl -u nginx --since "1 hour ago"
```

---

## 7. å¤‡ä»½ä¸Žæ¢å¤å‘½ä»¤

### ðŸ’¾ æ•°æ®åº“å¤‡ä»½

```bash
# å®Œæ•´å¤‡ä»½
mongodump --uri="mongodb://huiliaoyun:k87y6gjyf656@localhost:27017/huiliaoyun" --out="/var/backups/mongodb/$(date +%Y%m%d-%H%M%S)"

# åŽ‹ç¼©å¤‡ä»½
mongodump --uri="mongodb://huiliaoyun:k87y6gjyf656@localhost:27017/huiliaoyun" --gzip --out="/var/backups/mongodb/$(date +%Y%m%d-%H%M%S)"

# å¤‡ä»½ç‰¹å®šé›†åˆ
mongodump --uri="mongodb://huiliaoyun:k87y6gjyf656@localhost:27017/huiliaoyun" --collection=customers --out="/var/backups/mongodb/"

# åˆ›å»ºè‡ªåŠ¨å¤‡ä»½è„šæœ¬
cat > /root/backup-mongodb.sh << 'EOL'
#!/bin/bash
TIMESTAMP=$(date +"%Y%m%d-%H%M%S")
BACKUP_DIR="/var/backups/mongodb"
BACKUP_FILE="$BACKUP_DIR/huiliaoyun-$TIMESTAMP"

mongodump --uri="mongodb://huiliaoyun:k87y6gjyf656@localhost:27017/huiliaoyun" --out="$BACKUP_FILE"
tar -zcf "$BACKUP_FILE.tar.gz" -C "$BACKUP_DIR" "huiliaoyun-$TIMESTAMP"
rm -rf "$BACKUP_FILE"

# åˆ é™¤7å¤©å‰çš„å¤‡ä»½
find $BACKUP_DIR -name "*.tar.gz" -type f -mtime +7 -delete
EOL

chmod +x /root/backup-mongodb.sh
```

### ðŸ”„ æ•°æ®åº“æ¢å¤

```bash
# æ¢å¤å®Œæ•´æ•°æ®åº“
mongorestore --uri="mongodb://huiliaoyun:k87y6gjyf656@localhost:27017/huiliaoyun" --drop /path/to/backup/huiliaoyun/

# æ¢å¤ç‰¹å®šé›†åˆ
mongorestore --uri="mongodb://huiliaoyun:k87y6gjyf656@localhost:27017/huiliaoyun" --collection=customers /path/to/backup/huiliaoyun/customers.bson

# ä»ŽåŽ‹ç¼©å¤‡ä»½æ¢å¤
tar -zxf backup.tar.gz
mongorestore --uri="mongodb://huiliaoyun:k87y6gjyf656@localhost:27017/huiliaoyun" extracted_folder/
```

### ðŸ“ æ–‡ä»¶å¤‡ä»½

```bash
# å¤‡ä»½æ•´ä¸ªåº”ç”¨ç›®å½•
tar -zcf /var/backups/huiliaoyun-$(date +%Y%m%d).tar.gz /var/www/huiliaoyun/

# å¤‡ä»½é…ç½®æ–‡ä»¶
cp /etc/nginx/sites-available/huiliaoyun.conf /var/backups/nginx-config-$(date +%Y%m%d).conf

# åŒæ­¥åˆ°è¿œç¨‹æœåŠ¡å™¨ï¼ˆå¦‚æžœæœ‰ï¼‰
rsync -avz /var/www/huiliaoyun/ user@backup-server:/backups/huiliaoyun/
```

---

## 8. æ•…éšœæŽ’æŸ¥å‘½ä»¤

### ðŸ” æœåŠ¡çŠ¶æ€æ£€æŸ¥

```bash
# æ£€æŸ¥æ‰€æœ‰å…³é”®æœåŠ¡çŠ¶æ€
sudo systemctl status nginx
sudo systemctl status mongod
pm2 status

# æ£€æŸ¥ç«¯å£å ç”¨
netstat -tlnp | grep :80
netstat -tlnp | grep :443
netstat -tlnp | grep :5201
netstat -tlnp | grep :27017

# æ£€æŸ¥è¿›ç¨‹
ps aux | grep nginx
ps aux | grep mongod
ps aux | grep node
```

### ðŸš¨ é”™è¯¯è¯Šæ–­

```bash
# æ£€æŸ¥æœ€è¿‘çš„é”™è¯¯
sudo journalctl --since "1 hour ago" --priority=err
sudo tail -n 50 /var/log/nginx/error.log
pm2 logs --lines 50 --err

# æ£€æŸ¥ç£ç›˜ç©ºé—´
df -h
du -sh /var/www/huiliaoyun/
du -sh /var/log/

# æ£€æŸ¥å†…å­˜ä½¿ç”¨
free -h
top -o %MEM

# æ£€æŸ¥ç½‘ç»œè¿žæŽ¥
netstat -tuln
ss -tuln
```

### ðŸ”§ æ€§èƒ½åˆ†æž

```bash
# æŸ¥çœ‹ç³»ç»Ÿè´Ÿè½½
uptime
htop

# æŸ¥çœ‹MongoDBæ€§èƒ½
mongosh huiliaoyun --eval "db.serverStatus()"
mongosh huiliaoyun --eval "db.stats()"

# æŸ¥çœ‹NginxçŠ¶æ€ï¼ˆéœ€è¦é…ç½®statusæ¨¡å—ï¼‰
curl http://localhost/nginx_status

# åˆ†æžæ—¥å¿—ä¸­çš„æ…¢è¯·æ±‚
grep "slow" /var/log/nginx/access.log
```

---

## 9. å®‰å…¨ä¸Žç›‘æŽ§å‘½ä»¤

### ðŸ”’ é˜²ç«å¢™ç®¡ç†

```bash
# æŸ¥çœ‹é˜²ç«å¢™çŠ¶æ€
sudo ufw status
sudo ufw status verbose

# å¼€æ”¾ç«¯å£
sudo ufw allow ssh
sudo ufw allow http
sudo ufw allow https
sudo ufw allow 5201  # å¦‚æžœéœ€è¦ç›´æŽ¥è®¿é—®åŽç«¯

# å…³é—­ç«¯å£
sudo ufw deny 5201

# å¯ç”¨/ç¦ç”¨é˜²ç«å¢™
sudo ufw enable
sudo ufw disable
```

### ðŸ›¡ï¸ å®‰å…¨æ£€æŸ¥

```bash
# æ£€æŸ¥å¤±è´¥çš„ç™»å½•å°è¯•
sudo journalctl _SYSTEMD_UNIT=ssh.service | grep "Failed"

# æŸ¥çœ‹fail2bançŠ¶æ€ï¼ˆå¦‚æžœå®‰è£…äº†ï¼‰
sudo fail2ban-client status
sudo fail2ban-client status sshd

# æ£€æŸ¥ç³»ç»Ÿæ›´æ–°
apt list --upgradable
sudo apt update && apt list --upgradable

# æŸ¥çœ‹ç›‘å¬çš„ç«¯å£
sudo ss -tlnp
```

### ðŸ“Š ç³»ç»Ÿç›‘æŽ§

```bash
# å®žæ—¶ç³»ç»Ÿç›‘æŽ§
htop
# æˆ–
top

# æŸ¥çœ‹ç£ç›˜I/O
iotop

# æŸ¥çœ‹ç½‘ç»œæµé‡
iftop

# æŸ¥çœ‹ç³»ç»Ÿä¿¡æ¯
uname -a
lsb_release -a
cat /proc/version
```

---

## 10. Gitç‰ˆæœ¬æŽ§åˆ¶å‘½ä»¤

### ðŸ“ ä»£ç ç®¡ç†

```bash
# æŸ¥çœ‹å½“å‰çŠ¶æ€
git status

# æŸ¥çœ‹æ–‡ä»¶å·®å¼‚
git diff
git diff --staged

# æ·»åŠ æ–‡ä»¶åˆ°æš‚å­˜åŒº
git add .
git add ç‰¹å®šæ–‡ä»¶å

# æäº¤ä»£ç 
git commit -m "æè¿°ä¿¡æ¯"

# æŽ¨é€åˆ°è¿œç¨‹ä»“åº“
git push origin main

# æ‹‰å–æœ€æ–°ä»£ç 
git pull origin main

# æŸ¥çœ‹æäº¤åŽ†å²
git log --oneline -10
```

### ðŸ”„ åˆ†æ”¯ç®¡ç†

```bash
# æŸ¥çœ‹æ‰€æœ‰åˆ†æ”¯
git branch -a

# åˆ›å»ºæ–°åˆ†æ”¯
git checkout -b æ–°åˆ†æ”¯å

# åˆ‡æ¢åˆ†æ”¯
git checkout åˆ†æ”¯å

# åˆå¹¶åˆ†æ”¯
git checkout main
git merge åˆ†æ”¯å

# åˆ é™¤åˆ†æ”¯
git branch -d åˆ†æ”¯å
```

### ðŸ·ï¸ æ ‡ç­¾ç®¡ç†

```bash
# åˆ›å»ºæ ‡ç­¾
git tag -a v1.0.0 -m "ç‰ˆæœ¬1.0.0"

# æŽ¨é€æ ‡ç­¾
git push origin v1.0.0
git push origin --tags

# æŸ¥çœ‹æ‰€æœ‰æ ‡ç­¾
git tag -l

# åˆ‡æ¢åˆ°ç‰¹å®šæ ‡ç­¾
git checkout v1.0.0
```

---

## ðŸ“‹ å¿«é€Ÿæ•…éšœå¤„ç†æ¸…å•

### ðŸš¨ åº”ç”¨æ— æ³•è®¿é—®

1. æ£€æŸ¥æœåŠ¡çŠ¶æ€ï¼š`pm2 status`
2. æ£€æŸ¥NginxçŠ¶æ€ï¼š`sudo systemctl status nginx`
3. æŸ¥çœ‹é”™è¯¯æ—¥å¿—ï¼š`pm2 logs` å’Œ `sudo tail /var/log/nginx/error.log`
4. æ£€æŸ¥ç«¯å£å ç”¨ï¼š`netstat -tlnp | grep :80`

### ðŸ—„ï¸ æ•°æ®åº“è¿žæŽ¥é—®é¢˜

1. æ£€æŸ¥MongoDBçŠ¶æ€ï¼š`sudo systemctl status mongod`
2. æµ‹è¯•è¿žæŽ¥ï¼š`mongosh -u huiliaoyun -p k87y6gjyf656 huiliaoyun`
3. æ£€æŸ¥é…ç½®ï¼š`cat @back/.env`
4. æŸ¥çœ‹MongoDBæ—¥å¿—ï¼š`sudo journalctl -u mongod`

### ðŸ” SSLè¯ä¹¦é—®é¢˜

1. æ£€æŸ¥è¯ä¹¦çŠ¶æ€ï¼š`sudo certbot certificates`
2. æµ‹è¯•ç»­æœŸï¼š`sudo certbot renew --dry-run`
3. é‡æ–°èŽ·å–è¯ä¹¦ï¼š`sudo certbot --nginx -d åŸŸå`
4. æ£€æŸ¥Nginxé…ç½®ï¼š`sudo nginx -t`

---

## ðŸ’¡ æœ€ä½³å®žè·µå»ºè®®

1. **å®šæœŸå¤‡ä»½**ï¼šæ¯æ—¥è‡ªåŠ¨å¤‡ä»½æ•°æ®åº“ï¼Œæ¯å‘¨å¤‡ä»½å®Œæ•´åº”ç”¨
2. **ç›‘æŽ§æ—¥å¿—**ï¼šå®šæœŸæ£€æŸ¥é”™è¯¯æ—¥å¿—ï¼ŒåŠæ—¶å‘çŽ°é—®é¢˜
3. **æ›´æ–°ç³»ç»Ÿ**ï¼šå®šæœŸæ›´æ–°ç³»ç»ŸåŒ…å’Œä¾èµ–åŒ…
4. **æ€§èƒ½ç›‘æŽ§**ï¼šä½¿ç”¨ç›‘æŽ§å·¥å…·è§‚å¯Ÿç³»ç»Ÿæ€§èƒ½
5. **å®‰å…¨æ£€æŸ¥**ï¼šå®šæœŸæ£€æŸ¥å®‰å…¨æ—¥å¿—å’Œå¤±è´¥ç™»å½•å°è¯•

---

## ðŸ“ž æŠ€æœ¯æ”¯æŒ

å¦‚é‡åˆ°é—®é¢˜ï¼Œè¯·æŒ‰ä»¥ä¸‹é¡ºåºæŽ’æŸ¥ï¼š

1. æŸ¥çœ‹æœ¬æ–‡æ¡£ç›¸å…³å‘½ä»¤
2. æ£€æŸ¥åº”ç”¨å’Œç³»ç»Ÿæ—¥å¿—
3. å‚è€ƒ `deployment.md` éƒ¨ç½²æ–‡æ¡£
4. è”ç³»æŠ€æœ¯æ”¯æŒå›¢é˜Ÿ

---

*æœ€åŽæ›´æ–°ï¼š2024å¹´3æœˆ19æ—¥*
